/* ── Google Fonts ──────────────────────────────────────────── */
@import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@600;700;800&family=Inter:wght@400;500;600;700&display=swap');

/* ── Reset & base ─────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --color-bg:       #0d0f14;
  --color-surface:  #161921;
  --color-surface2: #1c2030;
  --color-border:   #252836;
  --color-primary:  #e63946;
  --color-primary2: #c0303c;
  --color-text:     #e2e4ef;
  --color-muted:    #7278a0;
  --radius:         8px;
  --font:           "Inter", system-ui, sans-serif;
  --font-display:   "Barlow Condensed", "Inter", system-ui, sans-serif;
}

/* ── Body — subtle animated speed-line background ─────────── */
body {
  background-color: var(--color-bg);
  background-image:
    repeating-linear-gradient(
      -60deg,
      transparent,
      transparent 60px,
      rgba(255,255,255,.006) 60px,
      rgba(255,255,255,.006) 61px
    );
  background-size: 200px 200px;
  animation: track-scroll 80s linear infinite;
  color: var(--color-text);
  font-family: var(--font);
  line-height: 1.6;
}
@keyframes track-scroll {
  from { background-position: 0 0; }
  to   { background-position: 400px 400px; }
}
a       { color: var(--color-primary); text-decoration: none; }
a:hover { text-decoration: underline; }

/* ── Navbar ───────────────────────────────────────────────── */
.navbar {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  padding: .7rem 2rem;
  background: rgba(13,15,20,.92);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(230,57,70,.18);
  position: sticky;
  top: 0;
  z-index: 200;
}

/* ── Logo ─────────────────────────────────────────────────── */
.nav-logo {
  display: flex;
  align-items: center;
  gap: .55rem;
  text-decoration: none !important;
  flex-shrink: 0;
}
.nav-logo:hover { text-decoration: none !important; }
.nav-logo-text {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 800;
  letter-spacing: .06em;
  line-height: 1;
  text-transform: uppercase;
}
.nav-logo-text .race  { color: #fff; }
.nav-logo-text .trace { color: var(--color-primary); }

.nav-links  { display: flex; gap: 1rem; list-style: none; margin-right: auto; }
.nav-links a { color: var(--color-muted); font-size: .9rem; font-weight: 500; transition: color .15s; }
.nav-links a:hover { color: var(--color-text); text-decoration: none; }
.nav-auth   { display: flex; gap: .75rem; }

/* ── Page hero (full-width banner above content) ──────────── */
.page-hero {
  --hero-accent: var(--color-primary);
  position: relative;
  overflow: hidden;
  padding: 3.25rem 2rem;
  text-align: center;
  background: linear-gradient(110deg, #0d0f14 0%, #121520 55%, #181b25 100%);
  border-bottom: 1px solid var(--color-border);
}

/* Checkered flag texture overlay */
.page-hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Crect width='12' height='12' fill='%23ffffff' fill-opacity='.022'/%3E%3Crect x='12' y='12' width='12' height='12' fill='%23ffffff' fill-opacity='.022'/%3E%3C/svg%3E");
  background-size: 24px 24px;
  pointer-events: none;
}

/* Accent gradient bar at the bottom edge */
.page-hero::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg,
    transparent 0%,
    var(--hero-accent) 15%,
    var(--hero-accent) 85%,
    transparent 100%);
}

.page-hero h1 {
  position: relative;
  font-family: var(--font-display);
  font-size: 2.5rem;
  font-weight: 800;
  letter-spacing: .07em;
  text-transform: uppercase;
  color: #fff;
  margin-bottom: .35rem;
  text-shadow: 0 2px 24px rgba(0,0,0,.6);
}
.page-hero .hero-sub {
  position: relative;
  color: var(--color-muted);
  font-size: .9rem;
  letter-spacing: .03em;
}

/* Per-section accent colours */
.page-hero--sessions { --hero-accent: var(--color-primary); }
.page-hero--laps     { --hero-accent: #457b9d; }
.page-hero--compare  { --hero-accent: #2a9d8f; }
.page-hero--tracks   { --hero-accent: #2a9d8f; }
.page-hero--cars     { --hero-accent: #e9c46a; }
.page-hero--events   { --hero-accent: #f4a261; }
.page-hero--admin    { --hero-accent: #7278a0; }
.page-hero--leaderboard { --hero-accent: #e9c46a; }

/* ── Container ───────────────────────────────────────────── */
.container { max-width: 1100px; margin: 0 auto; padding: 2rem 1rem; }

/* ── Buttons ─────────────────────────────────────────────── */
.btn {
  display: inline-block; padding: .5rem 1.25rem; border-radius: var(--radius);
  font-weight: 600; cursor: pointer; border: none; font-size: .95rem;
  transition: background .15s, border-color .15s;
}
.btn-primary        { background: var(--color-primary); color: #fff; }
.btn-primary:hover  { background: var(--color-primary2); }
.btn-secondary      { background: var(--color-surface); color: var(--color-text); border: 1px solid var(--color-border); }
.btn-secondary:hover { border-color: var(--color-primary); text-decoration: none; }

/* ── Forms ───────────────────────────────────────────────── */
.form-page { max-width: 420px; margin: 4rem auto; }
.form-page h1 { margin-bottom: 1.5rem; }
form label  { display: flex; flex-direction: column; gap: .25rem; margin-bottom: 1rem; font-size: .9rem; color: var(--color-muted); }
form input  { padding: .5rem .75rem; border-radius: var(--radius); border: 1px solid var(--color-border); background: var(--color-surface); color: var(--color-text); font-size: 1rem; }
form input:focus { outline: 2px solid var(--color-primary); }
.error  { color: var(--color-primary); margin-top: .5rem; }
.hidden { display: none; }

/* ── Homepage hero ───────────────────────────────────────── */
.hero {
  text-align: center;
  padding: 5.5rem 1rem 4rem;
  position: relative;
}
.hero h1 {
  font-family: var(--font-display);
  font-size: 3.5rem;
  font-weight: 800;
  letter-spacing: .06em;
  text-transform: uppercase;
  margin-bottom: 1rem;
  background: linear-gradient(135deg, #fff 40%, var(--color-primary) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.hero p  { font-size: 1.15rem; color: var(--color-muted); margin-bottom: 2rem; }
.hero-actions { display: flex; gap: 1rem; justify-content: center; }

/* ── Feature cards ───────────────────────────────────────── */
.features { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1.5rem; margin-top: 4rem; }
.feature-card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 1.5rem;
  border-top: 2px solid var(--color-primary);
}
.feature-card h3 { margin-bottom: .5rem; font-family: var(--font-display); letter-spacing: .04em; font-size: 1.1rem; }

/* ── Session & lap cards ─────────────────────────────────── */
.page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; }
.session-card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 1rem 1.25rem;
  margin-bottom: 1rem;
  transition: border-color .15s;
}
.session-card:hover { border-color: rgba(230,57,70,.35); }
.session-card h3 { margin-bottom: .25rem; }
.laps-table { margin-top: .75rem; border-top: 1px solid var(--color-border); padding-top: .75rem; }
.lap-row { display: flex; gap: 1.5rem; align-items: center; padding: .4rem 0; border-bottom: 1px solid var(--color-border); font-size: .9rem; }

/* ── Charts ──────────────────────────────────────────────── */
.chart-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(480px, 1fr)); gap: 1.5rem; margin-top: 2rem; }
.chart-wrap { background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius); padding: 1rem; }
.chart-wrap h3 { margin-bottom: .5rem; font-size: .9rem; color: var(--color-muted); }

/* ── Compare setup ───────────────────────────────────────── */
.compare-setup { display: flex; gap: 1rem; align-items: flex-end; margin-bottom: 2rem; }
.compare-setup label { display: flex; flex-direction: column; gap: .25rem; }
.compare-setup input { padding: .5rem .75rem; border-radius: var(--radius); border: 1px solid var(--color-border); background: var(--color-surface); color: var(--color-text); font-size: 1rem; width: 260px; }

/* ── Dialog ──────────────────────────────────────────────── */
dialog { background: var(--color-surface); color: var(--color-text); border: 1px solid var(--color-border); border-radius: var(--radius); padding: 2rem; min-width: 380px; }
dialog h2 { margin-bottom: 1.25rem; }
.modal-actions { display: flex; gap: .75rem; margin-top: 1rem; }

/* ── Home grid ────────────────────────────────────────────── */
.home-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 3rem; }
.home-section { background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius); padding: 1.5rem; }
.home-section h2 { margin-bottom: 1rem; font-size: .85rem; font-family: var(--font-display); text-transform: uppercase; letter-spacing: .08em; color: var(--color-muted); }
.card-row { display: flex; justify-content: space-between; align-items: center; padding: .4rem 0; border-bottom: 1px solid var(--color-border); font-size: .9rem; }
.link-all { display: inline-block; margin-top: .75rem; font-size: .85rem; }
.muted { color: var(--color-muted); }

/* ── Badges ──────────────────────────────────────────────── */
.badge { display: inline-block; padding: .2rem .6rem; border-radius: 999px; font-size: .75rem; font-weight: 600; background: var(--color-border); color: var(--color-text); }
.badge-active    { background: #2a9d8f22; color: #2a9d8f; border: 1px solid #2a9d8f55; }
.badge-upcoming  { background: #e9c46a22; color: #e9c46a; border: 1px solid #e9c46a55; }
.badge-completed { background: var(--color-border); color: var(--color-muted); }
.badge-warn      { background: #e6394622; color: var(--color-primary); border: 1px solid #e6394655; }
.configs { display: flex; flex-wrap: wrap; gap: .5rem; margin-top: .5rem; }

/* ── Leaderboard table ───────────────────────────────────── */
.lb-table { width: 100%; border-collapse: collapse; margin-top: 1.5rem; }
.lb-table th { text-align: left; padding: .5rem .75rem; color: var(--color-muted); font-size: .8rem; text-transform: uppercase; letter-spacing: .05em; border-bottom: 1px solid var(--color-border); }
.lb-table td { padding: .6rem .75rem; border-bottom: 1px solid var(--color-border); font-size: .9rem; }
.lb-table tr:hover td { background: var(--color-surface2); }

/* ── Admin ───────────────────────────────────────────────── */
.admin-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem; }
.btn-sm     { padding: .3rem .75rem; font-size: .8rem; }
.btn-danger { background: #7a1a22; color: #fff; }
.btn-danger:hover { background: var(--color-primary); }
